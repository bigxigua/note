{"version":3,"sources":["webpack:///./app/reducers/user.js","webpack:///./app/reducers/editor.js","webpack:///./app/reducers/index.js","webpack:///./app/store/index.js","webpack:///./app/util/axiosInstance.js","webpack:///./app/util/config.js","webpack:///./app/components/login/Login.js","webpack:///./app/components/nav/Nav.jsx","webpack:///./app/components/editor/Editor.jsx","webpack:///./app/util/util.js","webpack:///./app/page/index/Index.jsx","webpack:///./app/actions/index.js","webpack:///./app/page/index/Index.js","webpack:///./app/App.jsx"],"names":["defaultState","userInfo","saveStatus","markdownInfo","rootReducer","combineReducers","userReducer","state","arguments","length","undefined","action","type","Object","assign","editorReducer","status","store","createStore","reducer","applyMiddleware","thunk","axiosInstance","axios","create","baseURL","timeout","withCredentials","headers","X-Requested-With","Content-Type","params","data","interceptors","request","use","config","error","Promise","reject","response","LoginComponent","props","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","onInputHandle","e","_e$currentTarget","currentTarget","value","setState","account","password","showModal","loading","doLogin","bind","assertThisInitialized","isAutoLogin","post","emit","message","_this$state","_react_16_8_6_react_default","a","createElement","className","modal","title","centered","confirmLoading","destroyOnClose","visible","footer","es_button","key","onClick","disabled","input","placeholder","prefix","icon","style","color","onChange","suffix","tooltip","Password","Component","listen","handle","listeners","push","forEach","fn","hide","loginElement","classList","add","checkAuthorization","_callee2","regenerator_default","wrap","_context2","prev","next","prototype","stop","createInstance","properties","document","getElementById","remove","setAttribute","body","appendChild","ReactDOM","render","React","destroy","unmountComponentAtNode","removeChild","menuJsons","href","subItems","content","createSubMenu","menu","menuItems","map","i","es_menu","Item","target","rel","SubMenu","Menu","Nav","instance","info","updateUserInfo","onDrawerOpenHandle","drawerVisibled","onGetUserNotes","asyncToGenerator","mark","_callee","_ref2","_ref3","_context","get","sent","slicedToArray","Array","isArray","notes","console","log","onSubNoteTitleClick","setInitMarkdownContent","item","onDrawerCloseHandle","onInputValueChange","trim","noteBookName","onCreateNewNotebook","_ref5","_ref6","onHideModalHandle","success","modalVisibled","onShowModalHandle","_callee3","_context3","wastepaperBaskets","_this2","dropdownLists","dropdown","overlay","_this$props","_this$state2","saveIconMapStatus","initial","pendding","failed","noteSubMenus","notebook_id","notebook_name","subNotes","note","sub_note_id","sub_note_title","drawer","placement","closable","onClose","handleClick","width","defaultOpenKeys","selectedKeys","current","mode","okText","cancelText","onOk","onCancel","size","Editor","autoSaveHandle","_ref","editor","markdown","html","subNoteId","toggleShowModal","abrupt","getMarkdown","previewContainer","autoSaveMarkdown","window","localStorage","setItem","t0","_x","apply","setPatternToExemption","_window","$","editormd","debunceAutoSaveHandle","wait","immediately","timer","_immediately_","_arguments","clearTimeout","setTimeout","debunce","path","disabledKeyMaps","onload","settings","onchange","_ref4","prevMarkdown","sub_note_markdown","curMarkdown","setMarkdown","id","Index","Nav_Nav","Editor_Editor","connect","dispatch","index","App","react_router_dom","react_router","exact","component","es","App_App"],"mappings":"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","file":"static/js/main.9d11d1f2.chunk.js","sourcesContent":["let defaultState = {\n\tuserInfo: {\n\t}\n};\n\nexport default function pageState(state = defaultState, action) {\n\tswitch(action.type) {\n\t\tcase 'UPDATE_USER_INFO': {\n            return Object.assign({}, state, {userInfo: action.userInfo});\n        }\n\t\tdefault: {\n\t\t\treturn state\n\t\t}\n\t}\n}","let defaultState = {\n\tsaveStatus: 'initial',\n\tmarkdownInfo: {}\n};\n\nexport default function editorReducer(state = defaultState, action) {\n\tswitch(action.type) {\n        case 'AUTO_SAVE_MARKDOWN_STATUS': {\n            return Object.assign({}, state, {saveStatus: action.status});\n\t\t}\n\t\tcase 'SET_INIT_MRKDOWN_CONTENT': {\n            return Object.assign({}, state, {markdownInfo: action.markdownInfo});\n        }\n\t\tdefault: {\n\t\t\treturn state\n\t\t}\n\t}\n}","import { combineReducers } from 'redux';\nimport userReducer from './user.js';\nimport editorReducer from './editor.js';\n\nconst rootReducer = combineReducers({\n\tuserReducer,\n\teditorReducer\n});\n\nexport default rootReducer;","import { createStore, applyMiddleware } from 'redux'; \nimport thunk from 'redux-thunk';\nimport reducer from '../reducers';\nconst store = createStore(\n\treducer,\n\tapplyMiddleware(thunk)\n);\nexport default store;\n\n\n","import axios from 'axios';\nimport { DOMAIN } from './config.js';\nconst axiosInstance = axios.create({\n    baseURL: DOMAIN,\n    timeout: 3000,\n    withCredentials: true,\n    headers: {\n        'X-Requested-With': 'XMLHttpRequest',\n        'Content-Type': 'application/json; charset=utf-8'\n    },\n    // URL QUeryString parameters\n    params: {},\n    // `data` is the data to be sent as the request body\n    data: {},\n    // proxy: {\n    //   host: '127.0.0.1',\n    //   port: 9000,\n    //   auth: {\n    //     username: 'mikeymike',\n    //     password: 'rapunz3l'\n    //   }\n    // },\n});\naxiosInstance.interceptors.request.use(config => {\n    return config;\n}, error => {\n    Promise.reject(error)\n});\n\naxiosInstance.interceptors.response.use(\n    response => {\n        if (response && response.data && response.data.status === 'success') {\n            return [null, response.data.data];\n        }\n        return [response.data, null];\n    },\n    error => {\n        return Promise.reject(error)\n    }\n);\n\nexport default axiosInstance;","export const DOMAIN = 'http://127.0.0.1:8080/';","import React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport { Icon, Input, Tooltip, Modal, Button, message } from 'antd';\nimport axiosInstance from '../../util/axiosInstance.js';\nimport './Login.css';\n\nconst LOGIN_ELEMENT_ID = 'login_box';\nconst LOGIN_ELEMENT_HIDE = 'login_box_hide';\nexport default class LoginComponent extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            showModal: false,\n            account: '',\n            password: '',\n            loading: false // 登陆按钮的loading icon的显示与否\n        };\n        this.doLogin = this.doLogin.bind(this);\n    }\n    componentDidMount() {\n        this.setState({\n            showModal: true\n        });\n    }\n    async doLogin(e, isAutoLogin = false) {\n        const { account, password } = this.state || {};\n        if (!isAutoLogin) {\n            this.setState({ loading: true });\n        }\n        try {\n            const [error, response] = await axiosInstance.post('login', { account, password });\n            if (!error && response) {\n                LoginComponent.emit('login:change', response);\n                !isAutoLogin && this.setState({ showModal: false });\n            } else {\n                LoginComponent.emit('login:change', null);\n                message.error(error.message);\n            }\n        } catch (err) {\n            message.error('系统繁忙');\n            LoginComponent.emit('login:change', null);\n        } finally {\n            !isAutoLogin && this.setState({ loading: false });\n        }\n        return {};\n    }\n    onInputHandle = (e) => {\n        const {\n            type,\n            value\n        } = e.currentTarget;\n        if (type === 'text') {\n            this.setState({ account: value });\n        } else {\n            this.setState({ password: value });\n        }\n    }\n    static listen = (key, handle) => {\n        let { listeners } = this;\n        if (!listeners[key]) {\n            listeners[key] = [];\n        };\n        listeners[key].push(handle);\n    }\n    static emit = (key, data = {}) => {\n        let { listeners } = this;\n        if (listeners[key]) {\n            listeners[key].forEach(fn => {\n                fn(data);\n            });\n        }\n    }\n    static hide = () => {\n        this.loginElement.classList.add(LOGIN_ELEMENT_HIDE);\n    }\n    static checkAuthorization = async () => {\n        LoginComponent.prototype.doLogin({}, true);\n    }\n    static createInstance = (properties) => {\n        let loginElement = document.getElementById(LOGIN_ELEMENT_ID);\n        this.loginElement = loginElement;\n        if (!loginElement) {\n            loginElement = document.createElement('div');\n            loginElement.setAttribute('id', LOGIN_ELEMENT_ID);\n            document.body.appendChild(loginElement);\n            ReactDOM.render(React.createElement(LoginComponent, properties || {}), loginElement);\n        } else {\n            loginElement.classList.remove(LOGIN_ELEMENT_HIDE);\n        }\n        return {\n            destroy() {\n                ReactDOM.unmountComponentAtNode(loginElement);\n                document.body.removeChild(loginElement);\n            },\n            hide() {\n                loginElement.classList.add(LOGIN_ELEMENT_HIDE);\n            }\n        };\n    }\n    render() {\n        const { account, password, loading } = this.state;\n        return (\n            <div className=\"login_container\">\n                <Modal\n                    title=\"土川记\"\n                    centered={true}\n                    confirmLoading={true}\n                    destroyOnClose={true}\n                    visible={this.state.showModal}\n                    footer={[\n                        <Button\n                            key=\"submit\"\n                            type=\"primary\"\n                            onClick={this.doLogin}\n                            className=\"login_submit_btn\"\n                            loading={loading}\n                            disabled={!password || !account}>\n                            登录\n                        </Button>\n                    ]}\n                >\n                    <Input\n                        placeholder=\"请输入账号\"\n                        className=\"login_input\"\n                        prefix={<Icon type=\"user\" style={{ color: 'rgba(0,0,0,.25)' }} />}\n                        onChange={this.onInputHandle}\n                        value={account}\n                        type=\"accont\"\n                        suffix={\n                            <Tooltip title=\"邮箱/手机号/昵称均可\">\n                                <Icon type=\"info-circle\" style={{ color: 'rgba(0,0,0,.45)' }} />\n                            </Tooltip>\n                        }\n                    />\n                    <Input.Password placeholder=\"输入密码\" className=\"login_input\" onChange={this.onInputHandle} value={password} />\n                </Modal>\n            </div>\n        )\n    }\n}\nLoginComponent.listeners = {};","// TODO\n// 1. 自动保存，loading(编辑)->check(停止编辑) 动画\nimport React, { Component } from 'react';\nimport { Menu, Dropdown, Icon, Button, Drawer, Modal, Input, message } from 'antd';\nimport LoginComponent from '../login/Login.js';\nimport axiosInstance from '../../util/axiosInstance.js';\nimport './Nav.css';\nconst menuJsons = [{\n    title: '菜单',\n    href: '',\n    subItems: [{\n        href: '',\n        content: '222'\n    }]\n}];\nfunction createSubMenu(menu) {\n    const menuItems = menu.map(i => {\n        return (\n            <Menu.Item key={i.content}>\n                <a target=\"_blank\" rel=\"noopener noreferrer\" href={i.href}>{i.content}</a>\n            </Menu.Item>\n        );\n    });\n    return (\n        <Menu>\n            {menuItems}\n        </Menu>\n    )\n};\nconst SubMenu = Menu.SubMenu;\nexport default class Nav extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            drawerVisibled: false, // 展示抽屉\n            modalVisibled: false, // 展示弹框\n            noteBookName: '', // 新建的笔记本名称\n            notes: [], // 用户的所有笔记\n            wastepaperBaskets: [], // 用户的废纸篓，这里离线模式也可显示\n        }\n    }\n    componentDidMount() {\n    }\n    // 登陆状态监听\n    doLogin = () => {\n        const instance = LoginComponent.createInstance();\n        LoginComponent.listen('login:change', (info) => {\n            if (info) {\n                instance.hide();\n                this.props.updateUserInfo(info);\n            }\n        });\n    }\n    // 打开抽屉\n    onDrawerOpenHandle = () => {\n        this.setState({ drawerVisibled: true });\n        this.onGetUserNotes();\n    }\n    // 获取用户的所有笔记本(包括废纸篓）\n    onGetUserNotes = async () => {\n        const [error, data] = await axiosInstance.get('getUserNotes');\n        if (!error && Array.isArray(data)) {\n            this.setState({ notes: data });\n        } else {\n            message.error((error || {}).message || '获取笔记信息失败，请稍后再试');\n        }\n        console.log(error, data);\n    }\n    // 笔记本子笔记标题被点击\n    onSubNoteTitleClick = (e) => {\n        this.props.setInitMarkdownContent(e.item.props.item);\n        this.onDrawerCloseHandle();\n    }\n    // 关闭抽屉\n    onDrawerCloseHandle = () => {\n        this.setState({ drawerVisibled: false });\n    }\n    // 输入发生改变\n    onInputValueChange = (e) => {\n        const value = e.currentTarget.value.trim();\n        this.setState({ noteBookName: value });\n    }\n    // 创建新的笔记本\n    onCreateNewNotebook = async () => {\n        const { noteBookName, notes } = this.state;\n        const [error, data] = await axiosInstance.post('createNotebook', {\n            noteBookName\n        });\n        if (!error && data) {\n            this.onHideModalHandle();\n            notes.push(data);\n            message.success('创建笔记本成功，现在可以记笔记啦');\n            this.setState({ notes });\n        } else {\n            message.error((error || {}).message || '系统繁忙，请稍后再试');\n        }\n        console.log(error, data);\n    }\n    // 关闭modal\n    onHideModalHandle = () => {\n        this.setState({ modalVisibled: false });\n    }\n    // 展示modal\n    onShowModalHandle = async () => {\n        this.setState({ modalVisibled: true });\n    }\n    render() {\n        const dropdownLists = menuJsons.map(i => {\n            return (\n                <Dropdown overlay={createSubMenu(i.subItems)} key={i.title}>\n                    <a className=\"right_munu-dropdown-link\" href=\"#\">\n                        {i.title}<Icon type=\"down\" />\n                    </a>\n                </Dropdown>\n            )\n        });\n        const { saveStatus, userInfo: {\n            account\n        } } = this.props;\n        const { notes, wastepaperBaskets } = this.state;\n        const saveIconMapStatus = {\n            initial: '',\n            pendding: <Icon type=\"loading\" className=\"right_munu_icon right_munu_loading\" />,\n            success: <Icon type=\"check\" className=\"right_munu_icon right_munu_success\" />,\n            failed: <Icon type=\"close\" className=\"right_munu_icon right_munu_failed\" />\n        };\n        const noteSubMenus = notes.map(item => {\n            return (\n                <SubMenu\n                    key={item.notebook_id}\n                    title={<span><Icon type=\"book\" /><span>{item.notebook_name}</span></span>}>\n                    {\n                        (item.subNotes || []).map(note => {\n                            return <Menu.Item onClick={this.onSubNoteTitleClick} item={note} key={note.sub_note_id}>{note.sub_note_title}</Menu.Item>\n                        })\n                    }\n                </SubMenu>\n            );\n        });\n        return (\n            <div className=\"nav_container\">\n                <div className=\"left_munu\">土川记</div>\n                <div className=\"right_munu\">\n                    {\n                        account && <Button type=\"primary\" onClick={this.onDrawerOpenHandle}>我的笔记本</Button>\n                    }\n                    {/* 菜单 */}\n                    {dropdownLists}\n                    {/* 保存笔记状态的icon */}\n                    {saveIconMapStatus[saveStatus]}\n                    {/* 登陆按钮 */}\n                    {!account && (\n                        <Button className=\"right_munu_btn\" onClick={this.doLogin}>登陆</Button>\n                    )}\n                </div>\n                <Drawer\n                    title=\"土川记\"\n                    placement=\"left\"\n                    closable={false}\n                    onClose={this.onDrawerCloseHandle}\n                    visible={this.state.drawerVisibled}\n                >\n                    <Menu\n                        onClick={this.handleClick}\n                        style={{ width: 256 }}\n                        defaultOpenKeys={['sub1']}\n                        selectedKeys={[this.state.current]}\n                        mode=\"inline\"\n                    >\n                        <Menu.Item key=\"editor\" className=\"drawer_munu_note\">\n                            <div>\n                                <Icon type=\"mail\" />\n                                笔记本\n                            </div>\n                            <Icon type=\"plus-circle\" onClick={this.onShowModalHandle} />\n                        </Menu.Item>\n                        {noteSubMenus}\n                        <Menu.Item key=\"basket\" className=\"drawer_munu_basket\">\n                            <Icon type=\"delete\" />\n                            废纸篓({wastepaperBaskets.length || 0})\n                        </Menu.Item>\n                    </Menu>\n                    {/* TODO 这里加几个好看的页脚 */}\n                </Drawer>\n                {/* 创建笔记本弹框 */}\n                <Modal\n                    title=\"新建笔记本\"\n                    okText=\"确认\"\n                    cancelText=\"取消\"\n                    visible={this.state.modalVisibled}\n                    onOk={this.onCreateNewNotebook}\n                    onCancel={this.onHideModalHandle}\n                >\n                    <Input onChange={this.onInputValueChange} size=\"large\" placeholder=\"请输入笔记名称\" />\n                    <p className=\"nav_create_note_tip\">更多特性,敬请期待...</p>\n                </Modal>\n            </div>\n        )\n    }\n}","import React, { Component } from 'react';\nimport {\n    debunce\n} from '../../util/util.js';\nimport axiosInstance from '../../util/axiosInstance.js';\nimport LoginComponent from '../login/Login.js';\nimport { Modal, message } from 'antd';\nimport './Editor.css';\n\nexport default class Editor extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            showModal: false, // 是否展示Modal\n            editor: null, // 编辑器实例\n        }\n    }\n    componentDidMount() {\n        // TODO 根据文章id获取正在编辑的内容，如果是编辑已存在的文档的话\n        const { $, editormd } = window;\n        const debunceAutoSaveHandle = debunce(function () {\n            this.autoSaveHandle.apply(this, arguments);\n        }).bind(this);\n        LoginComponent.checkAuthorization();\n        LoginComponent.listen('login:change', (info) => {\n            if (info) {\n                this.props.updateUserInfo(info);\n            }\n        });\n        $(() => {\n            const editor = editormd('editormd', {\n                path: '/editor/lib/', // Autoload modules mode, codemirror, marked... dependents libs path\n                disabledKeyMaps: ['Ctrl-B', 'F11', 'F10'],\n                placeholder: '开始吧！！',\n                onload: function () {\n                }\n            });\n            this.setState({\n                editor\n            });\n            editor.settings.onchange = (function () {\n                this.props.autoSaveMarkdown('pendding');\n                debunceAutoSaveHandle(editor);\n            }).bind(this);\n        });\n    }\n    // 当markdown更新时\n    componentWillReceiveProps({ markdownInfo }) {\n        const prevMarkdown = this.props.markdownInfo.sub_note_markdown;\n        const curMarkdown = markdownInfo.sub_note_markdown;\n        if (curMarkdown && curMarkdown !== prevMarkdown) {\n            this.state.editor.setMarkdown(curMarkdown);\n        }\n    }\n    // 编辑结束自动保存\n    autoSaveHandle = async (editor) => {\n        // TODO 免登陆模式\n        const { userInfo: {\n            account\n        } } = this.props;\n        if (!account) {\n            this.toggleShowModal(true);\n            return;\n        }\n        const markdown = editor.getMarkdown();\n        // testEditor.getHTML(); \n        // testEditor.getPreviewedHTML();\n        const html = editor.previewContainer.html();\n        const subNoteId = this.props.markdownInfo.sub_note_id;\n        // TODO 如何未找到所在笔记，保存前先让用户去创建一个笔记本\n        try {\n            const [error, data] = await axiosInstance.post('updateDraft', {\n                html,\n                markdown,\n                subNoteId,\n            });\n            if (!error) {\n                window.localStorage.setItem(account, markdown);\n                this.props.autoSaveMarkdown('success');\n            } else {\n                message.error(data.message);\n                this.props.autoSaveMarkdown('failed');\n            }\n        } catch (err) {\n            message.error(err.message);\n            this.props.autoSaveMarkdown('failed');\n        }\n    }\n    // 设置为免登陆模式\n    setPatternToExemption = () => {\n        this.toggleShowModal(false);\n    }\n    doLogin = () => {\n        this.toggleShowModal(false);\n        LoginComponent.createInstance();\n    }\n    toggleShowModal = (showModal) => {\n        this.setState({\n            showModal\n        });\n        this.props.autoSaveMarkdown('');\n    }\n    render() {\n        return (\n            <div className=\"editor_container\" id=\"editormd\">\n                <Modal\n                    title=\"登陆后可以永久保存哟\"\n                    okText=\"免登陆模式\"\n                    cancelText=\"去登陆\"\n                    visible={this.state.showModal}\n                    onOk={this.setPatternToExemption}\n                    onCancel={this.doLogin}\n                >\n                    <p>1.登陆后可以永久保存编辑内容</p>\n                    <p>2.免登陆模式让你快速编辑文档，刷新不丢的哟</p>\n                    <p>&nbsp;&nbsp;&nbsp;更多特性,敬请期待...</p>\n                </Modal>\n            </div>\n        )\n    }\n}","\nexport function throttle(fn, wait = 2000, immediately = false) {\n    let latestTime = Date.now();\n    let _immediately_ = immediately;\n    return function () {\n        if (!_immediately_) {\n            fn.apply(this, arguments);\n            _immediately_ = true;\n        } else {\n            let curTime = Date.now();\n            if (curTime >= latestTime + wait) {\n                fn.apply(this, arguments);\n                latestTime = curTime;\n            }\n        }\n    }\n};\nexport function debunce(fn, wait = 2000, immediately = false) {\n\tlet timer = null;\n\tlet\t_immediately_ = immediately;\n\treturn function() {\n\t\tif (_immediately_) {\n\t\t\tfn.apply(this, arguments);\n\t\t\t_immediately_ = false;\n\t\t} else {\n\t\t\tclearTimeout(timer);\n\t\t\ttimer = setTimeout(() => {\n\t\t\t\tfn.apply(this, arguments);\n\t\t\t}, wait)\n\t\t}\n\t}\n}","import React, { Component } from 'react';\nimport './Index.css';\nimport Nav from '../../components/nav/Nav.jsx';\nimport Editor from '../../components/editor/Editor.jsx';\n\nexport default class Index extends Component {\n    constructor(props) {\n        super(props);\n    }\n    componentDidMount() {\n    }\n    render() {\n        const {\n            autoSaveMarkdown, // action 保存文本\n            updateUserInfo, // 更新用户信息\n            setInitMarkdownContent, // 更新正在编辑的markdown文本\n            saveStatus, // 保存文本的当前状态\n            userInfo, // 用户信息\n            markdownInfo, // 正在被编辑的markdown\n        } = this.props;\n        return (\n            <div className=\"page_container\">\n                <Nav \n                    saveStatus={saveStatus} \n                    userInfo={userInfo}\n                    setInitMarkdownContent={setInitMarkdownContent}\n                    updateUserInfo ={updateUserInfo} />\n                <Editor \n                    updateUserInfo={updateUserInfo} \n                    markdownInfo={markdownInfo}\n                    setInitMarkdownContent={setInitMarkdownContent}\n                    autoSaveMarkdown={autoSaveMarkdown} \n                    userInfo={userInfo} />\n            </div>\n        )\n    }\n}","export const UPDATE_USER_INFO = 'UPDATE_USER_INFO';\nexport const AUTO_SAVE_MARKDOWN_STATUS = 'AUTO_SAVE_MARKDOWN_STATUS';\nexport const SET_INIT_MRKDOWN_CONTENT = 'SET_INIT_MRKDOWN_CONTENT';\n\n// 自动保存markdown是否成功\nexport const autoSaveMarkdown = (status) => {\n\treturn {\n\t\ttype: AUTO_SAVE_MARKDOWN_STATUS,\n\t\tstatus\n\t}\n};\n// 获取正在编辑的markdonw文本\nexport const setInitMarkdownContent = (markdownInfo) => {\n\treturn {\n\t\ttype: SET_INIT_MRKDOWN_CONTENT,\n\t\tmarkdownInfo\n\t}\n};\n//显示个人中心页面\nexport const updateUserInfo = (userInfo) => {\n\treturn {\n\t\ttype: UPDATE_USER_INFO,\n\t\tuserInfo\n\t}\n};","import { connect } from 'react-redux'\nimport Index from './Index.jsx'\n\nimport { \n  updateUserInfo,\n  autoSaveMarkdown,\n  setInitMarkdownContent\n} from '../../actions/index.js'\n\nfunction mapStateToProps(state) {\n\treturn {\n\t\tuserInfo: state.userReducer.userInfo,\n\t\tsaveStatus: state.editorReducer.saveStatus,\n\t\tmarkdownInfo: state.editorReducer.markdownInfo\n\t}\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tupdateUserInfo: (index) => {dispatch(updateUserInfo(index))},\n\t\tsetInitMarkdownContent: (markdown) => {dispatch(setInitMarkdownContent(markdown))},\n\t\tautoSaveMarkdown: (status) => {\n\t\t\tdispatch(autoSaveMarkdown(status));\n\t\t}\n\t}\n} \n\nexport default connect(mapStateToProps, mapDispatchToProps)(Index)","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\nimport { Provider } from 'react-redux';\nimport store from './store/index.js';\nimport 'antd/dist/antd.css'; \nimport './App.css';\nimport Index from './page/index/Index.js';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n  render() {\n    return (\n      <div>\n        <Router>\n          <div className='container'>\n            <Route exact path=\"/\" component={Index} />\n          </div>\n        </Router>\n      </div>\n    )\n  }\n}\n\n\nReactDOM.render(\n  <Provider store={store}>\n    <div>\n      <App />\n    </div>\n  </Provider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}